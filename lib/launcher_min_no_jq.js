function closePopup(a){popups[a]&&(popups[a].close(),popups[a]=null,delete popups[a])}function closeAllPopups(){for(var a in popups)popups[a].close()}function hasPopup(a){return popups[a]}function focusPopup(a){popups[a]&&popups[a].focus()}function openPopup(a){if(a){var b=new PopupWindow;if(b.redirect=a.redirect,a.parameters)for(var c in a.parameters){var d="null"==a.parameters[c]?"":a.parameters[c];b.addPostValue(c,unescape(d))}return popups[a.id]=b,b.create(a.url,a.id,a.window),b}}function popupOpened(a){popups[a].checkPopupCount=0,setTimeout(function(){popups[a].checkPopup()},100)}function getChromeZoomLevel(){var a=document.createElement("div"),b=document.createElement("div"),c=function(a){return a.replace(/;/g," !important;")};a.setAttribute("style",c("width:0; height:0; overflow:hidden; visibility:hidden; position: absolute;")),b.innerHTML="1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>0",b.setAttribute("style",c("font: 100px/1em sans-serif; -webkit-text-size-adjust: none; height: auto; width: 1em; padding: 0; overflow: visible;")),a.appendChild(b),document.body.appendChild(a);var d=1e3/b.clientHeight;return Math.round(100*d)/100}function getFirefoxZoomLevel(){return this.mediaQueryBinarySearch("min--moz-device-pixel-ratio","",0,10,20,1e-4)}function mediaQueryBinarySearch(a,b,c,d,e,f){function g(a,c,d){var e=(a+c)/2;return 0==d||c-a<f?e:h(e+b)?g(e,c,d-1):g(a,e,d-1)}function h(b){j.sheet.insertRule("@media ("+a+":"+b+") {.mediaQueryBinarySearch {text-decoration: underline} }",0);var c="underline"==getComputedStyle(k,null).textDecoration;return j.sheet.deleteRule(0),c}var i=document.getElementsByTagName("head")[0],j=document.createElement("style"),k=document.createElement("div");k.className="mediaQueryBinarySearch",i.appendChild(j),k.style.display="none",document.body.appendChild(k);var l=g(c,d,e);return i.removeChild(j),document.body.removeChild(k),l}!function(a){function b(a,b,c,d,e){this._listener=b,this._isOnce=c,this.context=d,this._signal=a,this._priority=e||0}function c(a,b){if("function"!=typeof a)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",b))}function d(){this._bindings=[],this._prevParams=null}b.prototype={active:!0,params:null,execute:function(a){var b,c;return this.active&&this._listener&&(c=this.params?this.params.concat(a):a,b=this._listener.apply(this.context,c),this._isOnce&&this.detach()),b},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},getListener:function(){return this._listener},_destroy:function(){delete this._signal,delete this._listener,delete this.context},isOnce:function(){return this._isOnce},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},d.prototype={VERSION:"0.8.1",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(a,c,d,e){var f,g=this._indexOfListener(a,d);if(-1!==g){if(f=this._bindings[g],f.isOnce()!==c)throw new Error("You cannot add"+(c?"":"Once")+"() then add"+(c?"Once":"")+"() the same listener without removing the relationship first.")}else f=new b(this,a,c,d,e),this._addBinding(f);return this.memorize&&this._prevParams&&f.execute(this._prevParams),f},_addBinding:function(a){var b=this._bindings.length;do{--b}while(this._bindings[b]&&a._priority<=this._bindings[b]._priority);this._bindings.splice(b+1,0,a)},_indexOfListener:function(a,b){for(var c,d=this._bindings.length;d--;)if(c=this._bindings[d],c._listener===a&&c.context===b)return d;return-1},has:function(a,b){return-1!==this._indexOfListener(a,b)},add:function(a,b,d){return c(a,"add"),this._registerListener(a,!1,b,d)},addOnce:function(a,b,d){return c(a,"addOnce"),this._registerListener(a,!0,b,d)},remove:function(a,b){c(a,"remove");var d=this._indexOfListener(a,b);return-1!==d&&(this._bindings[d]._destroy(),this._bindings.splice(d,1)),a},removeAll:function(){for(var a=this._bindings.length;a--;)this._bindings[a]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(a){if(this.active){var b,c=Array.prototype.slice.call(arguments),d=this._bindings.length;if(this.memorize&&(this._prevParams=c),d){b=this._bindings.slice(),this._shouldPropagate=!0;do{d--}while(b[d]&&this._shouldPropagate&&!1!==b[d].execute(c))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var e=d;e.Signal=d,"function"==typeof define&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:a.signals=e}(this);var popups={},emptyPopups=[],Signal=signals.Signal;PopupWindow=function(){this.popup=null,this.preferedWidth=0,this.preferedHeight=0,this.openedTimeout=null,this.closedInterval=null,this.url=null,this.name=null,this.id=null,this.params=null,this.postData={},this.onOpened=new Signal,this.onClosed=new Signal,this.onBlocked=new Signal,this.closed=!1},PopupWindow.prototype.create=function(a,b,c){if(this.name=b,this.url=a,this.params=c,this.zoomLevel=1,"_self"===this.name)return this.id=this.name,void this.post();navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&(this.zoomLevel=getChromeZoomLevel()),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(this.zoomLevel=getFirefoxZoomLevel());var d=new Date;this.id=b+"_"+d.getTime(),this.open()},PopupWindow.prototype.open=function(){for(var a=this.params?this.params.split(","):[],b=0;b<a.length;b++){var c=a[b].split("=");if(/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)){if("width"==c[0].toLowerCase()){var d=parseInt(c[1]),e=Math.floor(d*this.zoomLevel);this.params=this.params.replace("width="+d,""),this.preferedWidth=e}else if("height"==c[0].toLowerCase()){var f=parseInt(c[1]),g=Math.floor(f*this.zoomLevel);this.params=this.params.replace("height="+f,""),this.preferedHeight=g}}else if("width"==c[0].toLowerCase()){var d=parseInt(c[1]),e=Math.floor(d*this.zoomLevel);this.params=this.params.replace("width="+d,"width="+e),this.preferedWidth=e}else if("height"==c[0].toLowerCase()){var f=parseInt(c[1]),g=Math.floor(f*this.zoomLevel);this.params=this.params.replace("height="+f,"height="+g),this.preferedHeight=g}}var h=screen.height-screen.availHeight,i=(screen.availWidth-this.preferedWidth)/2,j=(screen.availHeight-this.preferedHeight)/2-h;j<0&&(j=0),i<0&&(i=0),this.params+=",left="+i+",top="+j;var k=this;emptyPopups.length>0?(this.popup=emptyPopups.pop(),this.popup.name=this.id,popupOpened(this.name)):(this.openedTimeout=setTimeout(function(){k.popupBlocked()},3e3),this.popup=window.open("",this.id,this.params),this.popup.document.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'),this.popup.document.write('<html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript">function doOnload() {window.opener.popupOpened("'+this.name+'"); if (/Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor)) {this.popup.window.resizeTo(this.preferedWidth,this.preferedHeight);};}<\/script></head><body onload="doOnload();"><div>&nbsp;</div></body></html>'),this.popup.document.close())},PopupWindow.prototype.popupBlocked=function(){clearTimeout(this.openedTimeout),popups[this.name]=null,delete popups[this.name],this.onBlocked.dispatch(this.name)},PopupWindow.prototype.checkPopup=function(){clearTimeout(this.openedTimeout);try{var a,b=1,c=2;this.popup&&this.popup.window&&b>0&&(b!=c||this.checkPopupCount>4)?(this.popup.focus(),this.onOpened.dispatch(this.name),this.moveAndSize(),this.post(),a=this,clearInterval(this.closedInterval),this.closedInterval=setInterval(function(){a.doCloseCheck()},100)):(this.checkPopupCount++,a=this,setTimeout(function(){a.checkPopup()},100))}catch(a){}},PopupWindow.prototype.doCloseCheck=function(){try{this.popup&&!this.popup.closed||(clearInterval(this.closedInterval),this.onClosed.dispatch(this.name),popups[this.name]=null,delete popups[this.name],this.closed=!0)}catch(a){clearInterval(this.closedInterval),this.onClosed.dispatch(this.name),popups[this.name]=null,delete popups[this.name],this.closed=!0}},PopupWindow.prototype.moveAndSize=function(){if(!$.browser||!$.browser.msie){var a=this.popup.innerWidth||this.popup.document.documentElement.clientWidth,b=this.popup.innerHeight||this.popup.document.documentElement.clientHeight,c=this.preferedWidth-a,d=this.preferedHeight-b;0==c&&0==d||(this.popup.window.resizeBy(c,d),this.popup.window.moveBy(-c/2,-d/2))}},PopupWindow.prototype.close=function(){clearInterval(this.closedInterval),this.closedInterval=null,null==this.popup||this.popup.closed||(this.popup.close(),this.popup=null,popups[this.name]=null,delete popups[this.name],clearInterval(this.closedInterval),this.onClosed.dispatch(this.name))},PopupWindow.prototype.focus=function(){this.popup.focus()},PopupWindow.prototype.addPostValue=function(a,b){this.postData[a]=b},PopupWindow.prototype.post=function(){$("#popupWindowPostForm_"+this.name).remove();var a=$('<form id="popupWindowPostForm_'+this.name+'" action="'+this.url+'" method="post" target="'+this.id+'" style="margin:0px;"></form>').appendTo("body");for(var b in this.postData)a.append('<input name="'+b+'" value="'+this.postData[b]+'" type="hidden" />');a[0].submit()},function(a){var b=function(a){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))};a.isMobile=function(){return b(navigator.userAgent||navigator.vendor||window.opera)}}(window.mgs||(window.mgs={})),function(a,b){a.PokerClientLauncher=function(){function a(a,c){this.params=a,this.lobbyURL=c.lobbyURL,c.windowSettings?this.windowSettings=c.windowSettings:c.windowSettings="height=768,width=1024,location=no,menubar=no,resizable=yes,scrollbars=yes,status=no,toolbar=no",this.clientConfig=c,this.isMobileReady=b.isMobile()}var c=function(a,b){var c=openPopup(d.call(this,this.clientConfig.lobbyURL,a,b)),e=this;return c.onClosed.add(function(){delete window[e.lobbyURL]}),delete this.params.deepLinkData,c},d=function(a,b,c){if(!a)return"";var d,e={u:!0,p:!0,token:!0,wc:!0,externalSystemId:!0,deepLinkData:!0,bTag1:!0,bTag2:!0,bTag3:!0,bTag4:!0,bTag5:!0,param1:!0,param2:!0,param3:!0},f={isEmbedded:!0,toolsEnabledKey:!0,loggingEnabled:!0},g={ln:"languageCode",u:"loginName",p:"password",wc:"walletCode",loggingEnabled:"__loggingEnabled"},h={},i=[];for(var j in b)(d=b[j])&&e[j]&&(h[g[j]?g[j]:j]=d);b.ln&&i.push(g.ln+"="+b.ln),i.push(g.loggingEnabled+"=true");for(var k in this.clientConfig)f[k]&&this.clientConfig[k]&&i.push((g[k]?g[k]:k)+"="+this.clientConfig[k]);var l={url:a+"?"+i.join("&"),parameters:h,id:"_self"};return this.isMobileReady||(l.id=this.id,l.window=c),l},e=function(a){window[this.lobbyURL].focus(),window[this.lobbyURL].popup.postMessage(a,this.lobbyURL)};return a.prototype.deepLinkIntoClient=function(a){var b=JSON.stringify(a);if(!this.isLobbyAvailable())return this.params.deepLinkData=b.replace(/"/g,"'"),window[this.lobbyURL]=c.call(this,this.params,this.windowSettings);e.call(this,b)},a.prototype.isLobbyAvailable=function(){return null!=window[this.lobbyURL]},a.prototype.launchLobby=function(){return this.isLobbyAvailable()?(window[this.lobbyURL].focus(),null):window[this.lobbyURL]=c.call(this,this.params,this.windowSettings)},a.prototype.launchTable=function(a){this.deepLinkIntoClient(a)},a.prototype.launchTournament=function(a){a||(a="");var b={tournamentID:a};this.deepLinkIntoClient(b)},a.prototype.updatePlayerDetails=function(a){var b,c;c=[];for(b in a)a.hasOwnProperty(b)&&c.push(function(b){return this.params[b]=a[b]}(b));return c},a}()}(window,window.mgs);